import{__rest as e}from"tslib";import{jsxs as t,Fragment as l,jsx as r}from"react/jsx-runtime";import{useId as a}from"react";import n from"next/image";import{calculateImageSizes as i}from"./calculateImageSizes.js";const o={display:"flex",flexWrap:"wrap"},s=(e,t)=>t.reduce(((e,t,l)=>(e[`--next-gallery-${l+1}`]=`${t}%`,e)),{"--next-gallery-ar":`${e}`,position:"relative",boxSizing:"border-box",flexShrink:0,flexGrow:1});function g(g){var{widths:d,gap:m="1px",percentVw:x=100,overlay:h,imgLoader:p}=g,c=e(g,["widths","gap","percentVw","overlay","imgLoader"]);if(d.length+1!=c.ratios.length){const e=c.ratios.length<d.length+1;throw new Error(`'ratios' array is too ${e?"short":"long"}. It should have length ${d.length+1} (because ${d.length} breakpoints were provided), but has ${c.ratios.length}`)}const[y,v]=i(c),$=a().replace(/:/g,"");return t(l,{children:[r("style",{children:`\n                .next-gallery__element-${$} {\n                    width: var(--next-gallery-1);\n                    padding-bottom: calc(var(--next-gallery-1) / var(--next-gallery-ar));\n                }\n                .next-gallery__wl-${$} {\n                    width: var(--next-gallery-1);\n                    flex-shrink: 0,\n                    flex-grow: 1,\n                }`+d.map(((e,t)=>`\n                            @media (min-width: ${e}px) {\n                                .next-gallery__element-${$} {\n                                    width: var(--next-gallery-${t+2});\n                                    padding-bottom: calc(var(--next-gallery-${t+2}) / var(--next-gallery-ar));\n                                }\n                                .next-gallery__wl-${$} {\n                                    width: var(--next-gallery-${t+2});\n                                }\n                            }`)).join("")}),t("div",{style:o,children:[y.map(((e,l)=>{var a,i;return t("div",{className:`next-gallery__element-${$}`,style:s(c.images[l].aspect_ratio,e),children:[r("div",{style:{position:"absolute",top:m,left:m,right:m,bottom:m},children:r(n,Object.assign({src:c.images[l].src,alt:null!==(a=c.images[l].alt)&&void 0!==a?a:"",fill:!0,loader:p,sizes:d.map(((t,l)=>`(max-width: ${t}px) ${x/100*e[l]}vw`)).join(", ")+`, ${x/100*y[y.length-1][l]}vw`},null!==(i=c.images[l].nextImageProps)&&void 0!==i?i:{}))}),h&&r("div",{style:{position:"absolute",top:m,left:m,right:m,bottom:m,zIndex:2},children:h(l)})]},l)})),r("div",{className:`next-gallery__wl-${$}`,style:v.reduce(((e,t,l)=>(e[`--next-gallery-${l+1}`]=`${t}%`,e)),{})})]})]})}export{g as Gallery};
//# sourceMappingURL=Gallery.js.map

"use strict";var e=require("tslib"),t=require("react/jsx-runtime"),l=require("react"),r=require("next/image"),a=require("./calculateImageSizes.js");function n(e){return e&&e.__esModule?e:{default:e}}var i=n(r);const s={display:"flex",flexWrap:"wrap"},o=(e,t)=>t.reduce(((e,t,l)=>(e[`--next-gallery-${l+1}`]=`${t}%`,e)),{"--next-gallery-ar":`${e}`,position:"relative",boxSizing:"border-box",flexShrink:0,flexGrow:1});exports.Gallery=function(r){var{widths:n,gap:g="1px",percentVw:x=100,overlay:d,imgLoader:c}=r,h=e.__rest(r,["widths","gap","percentVw","overlay","imgLoader"]);if(n.length+1!=h.ratios.length){const e=h.ratios.length<n.length+1;throw new Error(`'ratios' array is too ${e?"short":"long"}. It should have length ${n.length+1} (because ${n.length} breakpoints were provided), but has ${h.ratios.length}`)}const[y,m]=a.calculateImageSizes(h),u=l.useId().replace(/:/g,"");return t.jsxs(t.Fragment,{children:[t.jsx("style",{children:`\n                .next-gallery__element-${u} {\n                    width: var(--next-gallery-1);\n                    padding-bottom: calc(var(--next-gallery-1) / var(--next-gallery-ar));\n                }\n                .next-gallery__wl-${u} {\n                    width: var(--next-gallery-1);\n                    flex-shrink: 0,\n                    flex-grow: 1,\n                }`+n.map(((e,t)=>`\n                            @media (min-width: ${e}px) {\n                                .next-gallery__element-${u} {\n                                    width: var(--next-gallery-${t+2});\n                                    padding-bottom: calc(var(--next-gallery-${t+2}) / var(--next-gallery-ar));\n                                }\n                                .next-gallery__wl-${u} {\n                                    width: var(--next-gallery-${t+2});\n                                }\n                            }`)).join("")}),t.jsxs("div",{style:s,children:[y.map(((e,l)=>{var r,a;return t.jsxs("div",{className:`next-gallery__element-${u}`,style:o(h.images[l].aspect_ratio,e),children:[t.jsx("div",{style:{position:"absolute",top:g,left:g,right:g,bottom:g},children:t.jsx(i.default,Object.assign({src:h.images[l].src,alt:null!==(r=h.images[l].alt)&&void 0!==r?r:"",fill:!0,loader:c,sizes:n.map(((t,l)=>`(max-width: ${t}px) ${x/100*e[l]}vw`)).join(", ")+`, ${x/100*y[y.length-1][l]}vw`},null!==(a=h.images[l].nextImageProps)&&void 0!==a?a:{}))}),d&&t.jsx("div",{style:{position:"absolute",top:g,left:g,right:g,bottom:g,zIndex:2},children:d(l)})]},l)})),t.jsx("div",{className:`next-gallery__wl-${u}`,style:m.reduce(((e,t,l)=>(e[`--next-gallery-${l+1}`]=`${t}%`,e)),{})})]})]})};
//# sourceMappingURL=Gallery.js.map

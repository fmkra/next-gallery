"use strict";function t(t){return Math.floor(1e4*t)/100}exports.calculateImageSizes=e=>{const s=Array.from({length:e.images.length},(()=>[])),o=[];for(const l of e.ratios){let a=0,r=[],i=0;for(let s=0;s<e.images.length;s++)if(a+e.images[s].aspect_ratio<=l)a+=e.images[s].aspect_ratio;else{i=r.length;for(let o=r.length;o<s;o++){const s=t(e.images[o].aspect_ratio/a);r.push(s)}a=e.images[s].aspect_ratio}const n=r.slice(i);for(let t=1;t<n.length;t++)n[t]+=n[t-1];n.push(100);let c=0;const h=r.length;let g=0;const f=[];for(let s=r.length;s<e.images.length;s++){const o=t(e.images[s].aspect_ratio/("fill"!=e.lastRowBehavior?l:a));for(r.push(o),g+=o;n[c]<g;)c++;f.push(n[c]/g)}if(r.slice(h),"match-previous"==e.lastRowBehavior){let t=100/g;for(const e of f)e<t&&(t=e);for(let e=h;e<r.length;e++)r[e]*=t}let p=100;for(let t=h;t<r.length;t++)p-=r[t];for(const t in r)s[t].push(r[t]);o.push(p)}return[s,o]};
//# sourceMappingURL=calculateImageSizes.js.map
